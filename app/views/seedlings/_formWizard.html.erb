<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Turn plain webform into a powerful wizard with jQuery</title>
		<link rel="stylesheet" href="/stylesheets/validationEngine.jquery.css" type="text/css" media="screen" title="no title" charset="utf-8" />
		<link rel="stylesheet" href="/stylesheets/template.css" type="text/css" media="screen" title="no title" charset="utf-8" />
        
		<!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.6/jquery.min.js"></script>-->
		
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>

        <script src="/javascripts/ajaxupload.js"></script>
		<script src="/javascripts/jquery.validationEngine-en.js" type="text/javascript"></script>
		<script src="/javascripts/jquery.validationEngine.js" type="text/javascript"></script>
		<script src="/javascripts/livevalidation.js" type="text/javascript"></script>
		<script type="text/javascript" src="http://dev.jquery.com/view/trunk/plugins/validate/jquery.validate.js"></script>


        <!-- JQuery script for form wizard and image preview -->
        <script type="text/javascript">
            var j$ = jQuery.noConflict();
            
            j$(document).ready(function(){
                j$("#SignupForm").formToWizard({
                    submitButton: 'SaveAccount'
                });
                
                // preview of the typed text fields
                j$('#SignupForm input, #SignupForm textarea').bind('blur keyup', function(){
                    j$('#placeholderdescription').text(j$('#Description').val());
                    j$('#placeholderdescription').html(j$('#placeholderdescription').html().replace(/\n/g, '<br />'));
                    j$('#placeholdertitle').text(j$('#Title').val());
                    j$('#placeholdertitle').html(j$('#placeholdertitle').html().replace(/\n/g, '<br />'));
                    j$('#placeholdertag').text(j$('#Tags').val());
                    j$('#placeholdertag').html(j$('#placeholdertag').html().replace(/\n/g, '<br />'));
                });
				//j$("#SignupForm").validate();
				j$("#SignupForm").validationEngine({});
				
           
            });
        </script>
    </head>
    <body>
        <div id="main">
			
            <% form_for @seedling, :html => {:id => "SignupForm", :multipart  => true } do |f| %>
            <form id="SignupForm">
                <fieldset>
                    <Legend style = "visibility:hidden; height:0px;">
                        Location
                    </Legend>
                    <%= f.hidden_field :user_ids, :value => [current_user.id] %>
					<div id = "controlspanel" >
						<table align="center" >
							<tr>
								<td >
			                    <label for="Lat">
			                        Latitude
			                    </label>
								</td>
								<td>
			                    <%= f.text_field :lat, :class => "number, required" , :min => "-90", :max => "90", :id => "lat", :class => "loctxt"%>
			           			</td>
								<td>
			                    <label for="Lon">
			                        Longitude
			                    </label>
			                    </td>
								<td>
								<%= f.text_field :lon, :class => "number, required", :min => "-180", :max => "180", :id => "lon", :class => "loctxt"%>
			                    </td>
								<td>
			                    <label for="alt">
			                        Altitude
			                    </label>
			                    </td>
								<td>
								<%= f.text_field :alt, :class => "number, required", :min => "-500", :max => "10000", :id => "alt", :class => "loctxt"%>
			                    <!--<div id = "globe3d"></div>-->
								</td>
							</tr>
						</table>
					</div>
					<div id="promptbtn"><table width="100%"><tr><td align="center"><a id = "sow" Title = "Plant Seedling" href = "javascript:plantit()"></a></td></tr></table></div> 
                </fieldset>
				
                <fieldset>
                    <legend>
                        Project
                    </legend>
                    <%= f.file_field :project, :id => "picField", :onchange => "preview(this)", :class => "required" %>
					
                </fieldset>
                <fieldset>
                    <legend>
                        Description
                    </legend>
                    <br>
                    <%= f.text_area :description, :id => "Description", :rows => "7", :cols => "50", :class => "required" %>
                </fieldset>
                <fieldset>
                    <legend>
                        Title
                    </legend>
                    <%= f.text_field :title, :id => "Title", :class => "required" %>
                    <br>
                    <legend>
                        Tags
                    </legend>
                    <%= f.text_field :tag_names, :id => "Tags", :class => "required" %>
                    <br>
                    <br>
                    <%= f.submit "Submit", :id => "SaveAccount" %>
                </fieldset>
            </form>
            <% end %>
			
        </div>
    </body>
</html>
